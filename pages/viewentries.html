<!DOCTYPE html>
<html>

    <head>
        
        <!-- Basic Page Needs
        ---------------------------------------------------- -->
        <meta charset="utf-8">
        <title>View Entries - Visitorials</title>
        <meta name="description" content="">
        <meta name="author" content="Cedric Amaya">
        
        <!-- Mobile Specific Metas
        ---------------------------------------------------- -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <!-- Fonts
        ---------------------------------------------------- -->
        <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Permanent+Marker">
        
        <!-- CSS
        ---------------------------------------------------- -->
        <link type="text/css" rel="stylesheet" href="../stylesheets/skeleton.css">
        
        <!-- Linked Pages
        ---------------------------------------------------- -->
        <link type="text/css" href="../index.html">
        
        <!-- jQuery Script
        ---------------------------------------------------- -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        
        <!-- Favicon
        ---------------------------------------------------- -->     
        <link rel="apple-touch-icon" sizes="180x180" href="../favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" href="../favicons/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="../favicons/favicon-16x16.png" sizes="16x16">
        <link rel="manifest" href="../favicons/manifest.json">
        <link rel="mask-icon" href="../favicons/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="theme-color" content="#ffffff">
        
    </head>
    <body>
        
        <div class="container">
            
            <div class="row">
                <div class="u-full-width centerAlign">
                    <a href="../index.html">
                        <img src="../img/visitorialsLogo.png">
                    </a>
                </div>
            </div>
            
            <div class="row">
                <div class="u-full-width" id="main">
                   
                    <!-- old system using table -------------
                    <table class="centerTable" id="myTable">
                        <thead>
                            <tr>
                                <th class="centerAlign">Name</th>
                                <th class="centerAlign">City</th>
                                <th class="centerAlign">Country</th>
                                <th class="centerAlign">Message</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                Google Sheets Data Here
                            </tr>
                        </tbody>
                    </table>
                    -------------------------------------- -->
                    
                </div>
            </div>
            
            <div class="row">
                <div class="eight columns offset-by-two">
                    <div id="footer">
                        <div id="line"><hr /></div>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="u-full-width">
                    <div id="footer">
                        <p>
                            <span>Visitorials</span>
                            <br />

                            Created by Cedric Amaya
                            <br />

                            Hosted on <a href="https://github.com/cedricium/visitorials">GitHub</a>
                            <br />
                            
                            Share on 
                            <!-- twitter -->
                            <a href="http://twitter.com/share?text=Visitorials%20-%20the%20digital%20visitors%20log%20of%20the%20web&url=http://cedricamaya.me/visitorials">Twitter</a> |
                            
                            <!-- facebook -->
                            <a href="http://www.facebook.com/sharer.php?u=http://cedricamaya.me/visitorials">Facebook</a>
                        </p>
                    </div>
                </div>
            </div>
            
        </div>
        
        <script>
            $.get('https://spreadsheets.google.com/feeds/list/1BPkEcVfvZ1BieowzhIEvnL_-TAtfhkcZypZLjfYfuuo/1/public/basic?alt=json', function(data){
                var entry = [];
                
                // loop iterates through entry[] array and creates the 4 values and makes JS objects from each Google Forms entry
                for (var i = 0; i < entry.length !== undefined; i++){
                    // "name: Cedric, city: Sunnyvale, country: United States, message: Hello, world. This is so cool, hopefully it works!"
                    entry.push(data.feed.entry[i].content.$t);

                    // "Cedric"
                    var name = entry[i].split(',')[0].replace('name: ', '');

                    // "Sunnyvale"
                    var city = entry[i].split(',')[1].replace(' city: ', '');

                    // "United States"
                    var country = entry[i].split(',')[2].replace(' country: ', '');

                    // "Hello, world. This is so cool, hopefully it works!"
                    var  message =   entry[i].split(' message: ')[1];

                    // "1/6/2017 12:25:07"
                    var timestamp = data.feed.entry[0].title.$t;

                    var obj = {
                    name: name,
                    city: city,
                    country: country,
                    message: message
                    }
                    
                    var mainDiv = document.getElementById("main");
                    
                    var entryDiv = 
                        '<div class="six columns entry"><div><img src="http://placehold.it/400x150/ffaaaa/fff?text=' + name + '"></div><br /><p><span>LOCATION:</span> ' + city + ', ' + country + '<p><span>MESSAGE:</span> ' + message + '</p></div>';
                    
                    mainDiv.innerHTML += entryDiv;
                };
            });
            
// name: Cedric, city: Sunnyvale, country: United States, message: Hello, world. This is so cool, hopefully it works!            
            
        </script>
        
    </body>
</html>